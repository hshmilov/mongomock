import socket

from services.ports import DOCKER_PORTS

REGISTRATION_REQUEST = bytearray.fromhex(
    'bbdda9006701930200009c91910000000000000e0087d61200000000000000065143503635390110fc73044e6f6e65000000002030303030303030303030303030303030303030303030303030303030303030300136044e6f6e65000000000c31342e302e3132333435363707302e302e302e30034c434d000000000c31342e302e31323334353637013603504d4d000000000c31342e302e3132333435363707302e302e302e300100000000cc')

CLINICAL_STATUS_CONNECTIVITY_UPDATE = new_message_format = bytearray(
    b'\xbb\xdd"\x02g\n<\xbb\xe4\x11\x9c\x91\x00\x00\x00\x00\x19\x16\x00\x00\xdb[\x04"\x00\x00\x00\x00\x10\x16\x00\x00\x00\x00\x00\x00\x19\x16\x00\x00\x08\x01\x01\x01\x04None\x00\x00\x00\x00 00000000000000000000000000000000\x016\x07\x00\x01\x04\r10.20.108.116\x0b255.255.0.0\x070.0.0.0\x1155:11:55:10:F0:55\x00\x010\x06HSP-SD\x1155:11:55:10:F0:55\x05\x02NA\x00\x0654Mbps\x04Open\x04TKIP\n802-11-a-n\x010\x00\x00\x00\x01\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x02\xdb[\x04"\x1a\x16\x00\x00\x02\x00\x03\xba\xab\x05"\x12\x16\x00\x00\x00\x01\x00\x10\x00\x00\x00\x00\x00\x03\xba\xab\x05"\x13\x16\x00\x00\x00\x01\x00\x16\x00\x00\x00\x00\x00\x07\xb8\xab\x05"\x14\x16\x00\x00\x01\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\x00\x04\x81\x01\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f254.255.0.10104(0000000000000000000000000000000000000000\x01\x00\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\xa8\x16\x00\x00\xa8\x16\x00\x00\x03\xba\xab\x05"\x15\x16\x00\x00\x00\x01\x01\x1c\x00\x00\x00\x00\x00\xcc')


class QcoreFakePump(object):
    def __init__(self):
        self.conn = socket.create_connection(('localhost', DOCKER_PORTS['qcore-mediator']))

    def send_registration(self):
        self.conn.sendall(REGISTRATION_REQUEST)

    def send_connectivity_update(self):
        self.conn.sendall(CLINICAL_STATUS_CONNECTIVITY_UPDATE)
